# mantle-fedex
FedEx shipping gateway integration 

### How to setup

- clone moqui-framework
`git clone https://github.com/moqui/moqui-framework.git`

- go to moqui-framework directory
`cd moqui-framework`

- clone moqui-runtime
`git clone https://github.com/moqui/moqui-runtime.git runtime`

- go to runtime/component directory
`cd runtime/component`

- clone mantle
`git clone https://github.com/hotwax/mantle.git`

- clone fedex
`git clone https://github.com/hotwax/mantle-fedex.git`

- Use following command to load data
`./gradlew load`
  
######FedEx Integration for shipping rates, create shipment labels, and cancel shipment. In this Integration we worked on staging environment. So, the rates may vary from production environment.

###To Simplify:

Load the setup data in data/FedExSetupData.xml Load the demo configuration data in data/FedExZaaDemoData.xml or create your own configuration and load it; if you use the demo data, add your API token (SgoApiToken).

~ request#AccessToken service: API path: https://apis-sandbox.fedex.com/oauth/token This API call is to request new Access Token to authenticate a client. In this call set application/x-www-form-urlencoded as the content type header. To generate new access token it requires grantType, clientId and clientSecret. Bearer token generated by this call is valid for only 3600 seconds(1 hour). 

~ get#ShippingRates service: API path: https://apis-sandbox.fedex.com/rate/v1/rates/quotes This API call is to get shipping rates for your multiple carrier and service options. Display these at a checkout to let your customers choose the fastest, cheapest, or most-trusted route when you ship your products. At minimum, a Rate request requires a delivery location and information on the parcels being delivered. However, different couriers and delivery methods can require additional fields to satisfy their requirements. Set the content type header to application/json, and the Authorization as Bearer Token from request#AccessToken service.

~ create#ShipmentLabel service: API path: https://apis-sandbox.fedex.com/ship/v1/shipments Set content type header to application/json, and the Authorization as Bearer Token from request#AccessToken service. This API call is uses for creating shipment at FedEx end. This call uses the request Body to be in json format. After successful service call, you will receive an HTTP response that included the label details.

~ cancel#Shipmet service: API path: https://apis-sandbox.fedex.com/ship/v1/shipments/cancel You will need a trackingCode of shipment and account number of client to cancel a shipment. For this call set content type header to application/json, and the Authorization as Bearer Token from request#AccessToken service. If the shipment has left the originating facility and is in route to the destination the cancel shipment request will be denied. If the Shipment is too old to be canceled, this request will be denied. If the shipment has been scanned in, at the originating facility then it will also be denied.
